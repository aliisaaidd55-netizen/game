<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üåç ÿ£ŸÜŸÇÿ∞ ŸÖÿØŸäŸÜÿ™ŸÉ - ŸÑÿπÿ®ÿ© ÿ®Ÿäÿ¶Ÿäÿ© ŸàÿßŸÇÿπŸäÿ©</title>

  <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css" />
  <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      font-family: "Segoe UI", Tahoma, Arial, "Noto Naskh Arabic", sans-serif;
      direction: rtl;
      background: #0f172a;
      overflow: hidden;
    }

    #gameContainer {
      width: 100%;
      height: 100vh;
      position: relative;
      display: flex;
    }

    #map {
      flex: 1;
      height: 100%;
      transition: filter 1s ease;
    }

    .game-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      background: radial-gradient(circle at center, transparent 40%, rgba(220, 38, 38, 0.15) 100%);
      transition: background 1s ease;
      z-index: 1;
    }

    .game-overlay.healthy {
      background: radial-gradient(circle at center, transparent 40%, rgba(34, 197, 94, 0.1) 100%);
    }

    .city-score-hud {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(15, 23, 42, 0.95);
      -webkit-backdrop-filter: blur();
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      min-width: 280px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      border: 2px solid rgba(239, 68, 68, 0.3);
      pointer-events: auto;
      z-index: 10;
      transition: border-color 0.5s ease;
    }

    .city-score-hud.healthy {
      border-color: rgba(34, 197, 94, 0.5);
    }

    .city-avatar {
      width: 120px;
      height: 120px;
      margin: 0 auto 16px;
      font-size: 80px;
      text-align: center;
      animation: float 3s ease-in-out infinite;
      filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
      transition: all 0.5s ease;
    }

    .city-avatar.sick {
      animation: shake 0.5s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px) rotate(-2deg); }
      75% { transform: translateX(5px) rotate(2deg); }
    }

    .city-name {
      font-size: 20px;
      font-weight: 700;
      color: white;
      text-align: center;
      margin-bottom: 16px;
    }

    .score-bar {
      margin: 12px 0;
    }

    .score-label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
      font-size: 14px;
      color: #cbd5e1;
    }

    .score-value {
      font-weight: 700;
      font-size: 16px;
    }

    .progress-bar {
      height: 24px;
      background: rgba(30, 41, 59, 0.8);
      border-radius: 12px;
      overflow: hidden;
      position: relative;
      border: 1px solid rgba(100, 116, 139, 0.3);
    }

    .progress-fill {
      height: 100%;
      transition: width 0.5s ease, background 0.5s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 12px;
      color: white;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    .pollution-fill {
      background: linear-gradient(90deg, #dc2626, #ef4444);
    }

    .pollution-fill.low {
      background: linear-gradient(90deg, #f59e0b, #fbbf24);
    }

    .pollution-fill.minimal {
      background: linear-gradient(90deg, #22c55e, #10b981);
    }

    .health-fill {
      background: linear-gradient(90deg, #ef4444, #dc2626);
    }

    .health-fill.good {
      background: linear-gradient(90deg, #f59e0b, #fbbf24);
    }

    .health-fill.excellent {
      background: linear-gradient(90deg, #10b981, #22c55e);
    }

    .player-stats {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid rgba(100, 116, 139, 0.3);
    }

    .stat-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 8px 0;
      font-size: 14px;
      color: #cbd5e1;
    }

    .stat-value {
      font-weight: 700;
      color: #fbbf24;
      font-size: 16px;
    }

    .action-panel {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(15, 23, 42, 0.95);
      -webkit-backdrop-filter: blur();
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      min-width: 280px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      border: 2px solid rgba(59, 130, 246, 0.3);
      pointer-events: auto;
      z-index: 10;
    }

    .panel-title {
      font-size: 18px;
      font-weight: 700;
      color: white;
      text-align: center;
      margin-bottom: 20px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .action-btn {
      width: 100%;
      padding: 16px;
      margin: 10px 0;
      border: none;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
      overflow: hidden;
      font-family: inherit;
    }

    .action-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .action-btn:hover::before {
      left: 100%;
    }

    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .action-btn:active {
      transform: translateY(0);
    }

    .action-btn.plant {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
    }

    .action-btn.clean {
      background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      color: white;
    }

    .action-btn.recycle {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
    }

    .action-btn.quiz {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      color: white;
    }

    .action-cost {
      font-size: 12px;
      opacity: 0.9;
    }

    .action-icon {
      font-size: 24px;
    }

    .quiz-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      -webkit-backdrop-filter: blur();
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    .quiz-modal.active {
      display: flex;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .quiz-card {
      background: linear-gradient(135deg, #1e293b, #0f172a);
      border-radius: 24px;
      padding: 40px;
      max-width: 600px;
      width: 90%;
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
      border: 2px solid rgba(139, 92, 246, 0.3);
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .quiz-question {
      font-size: 20px;
      font-weight: 700;
      color: white;
      margin-bottom: 24px;
      text-align: center;
      line-height: 1.5;
    }

    .quiz-options {
      display: grid;
      gap: 12px;
    }

    .quiz-option {
      padding: 16px 20px;
      background: rgba(30, 41, 59, 0.6);
      border: 2px solid rgba(100, 116, 139, 0.3);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      color: #cbd5e1;
      font-weight: 600;
      text-align: center;
    }

    .quiz-option:hover {
      background: rgba(59, 130, 246, 0.2);
      border-color: rgba(59, 130, 246, 0.5);
      transform: translateX(-5px);
    }

    .quiz-option.correct {
      background: rgba(34, 197, 94, 0.2);
      border-color: #22c55e;
      color: #22c55e;
    }

    .quiz-option.wrong {
      background: rgba(239, 68, 68, 0.2);
      border-color: #ef4444;
      color: #ef4444;
    }

    .quiz-explanation {
      margin-top: 24px;
      padding: 16px;
      background: rgba(59, 130, 246, 0.1);
      border-radius: 12px;
      border-right: 4px solid #3b82f6;
      color: #cbd5e1;
      line-height: 1.6;
      display: none;
    }

    .quiz-explanation.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .quiz-next {
      margin-top: 20px;
      padding: 14px 32px;
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
      display: none;
    }

    .quiz-next.show {
      display: block;
    }

    .notification {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 24px 40px;
      border-radius: 16px;
      font-size: 20px;
      font-weight: 700;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      z-index: 2000;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s ease;
    }

    .notification.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    .welcome-screen {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      animation: fadeIn 0.5s ease;
    }

    .welcome-card {
      background: rgba(30, 41, 59, 0.8);
      -webkit-backdrop-filter: blur();
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 48px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
      border: 2px solid rgba(59, 130, 246, 0.3);
      text-align: center;
    }

    .welcome-title {
      font-size: 32px;
      font-weight: 700;
      color: white;
      margin-bottom: 16px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .welcome-subtitle {
      font-size: 16px;
      color: #cbd5e1;
      margin-bottom: 32px;
      line-height: 1.6;
    }

    .username-input {
      width: 100%;
      padding: 16px;
      border: 2px solid rgba(100, 116, 139, 0.3);
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.6);
      color: white;
      font-size: 16px;
      font-family: inherit;
      margin-bottom: 20px;
      text-align: center;
      direction: rtl;
    }

    .username-input:focus {
      outline: none;
      border-color: #3b82f6;
    }

    .start-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: inherit;
    }

    .start-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
    }
.btn {
  display: inline-block;
  background: #2ecc71;
  color: white;
  padding: 10px 15px;
  border-radius: 10px;
  text-decoration: none;
  font-size: 16px;
  transition: 0.3s;
}
.btn:hover {
  background: #27ae60;
}



    .achievement-popup {
      position: fixed;
      top: 100px;
      right: 20px;
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: #1e293b;
      padding: 20px 24px;
      border-radius: 16px;
      font-weight: 700;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      z-index: 2000;
      transform: translateX(400px);
      transition: transform 0.5s ease;
    }

    .achievement-popup.show {
      transform: translateX(0);
    }

    .achievement-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }

    @media (max-width: 768px) {
      .city-score-hud, .action-panel {
        min-width: auto;
        width: calc(100% - 40px);
        left: 20px;
        right: 20px;
      }

      .action-panel {
        top: auto;
        bottom: 20px;
        transform: none;
      }

      .city-score-hud {
        padding: 16px;
      }

      .city-avatar {
        width: 80px;
        height: 80px;
        font-size: 60px;
      }
      
    }
  </style>
</head>
<body>
  <div id="welcomeScreen" class="welcome-screen">
    <div class="welcome-card">
      <div class="welcome-title">üåç ÿ£ŸÜŸÇÿ∞ ŸÖÿØŸäŸÜÿ™ŸÉ</div>
      <div class="welcome-subtitle">
       ÿßŸáŸÑÿß ÿ®ŸäŸÉ Ÿàÿ±ÿ®ŸÜÿß ÿßŸÜÿ™ ÿßÿ≠ÿ≥ŸÜ ÿ≠ÿØ ŸäÿÆÿ¥ ÿπŸÜÿØŸÜÿß ÿßŸÉÿ™ÿ® ÿßÿ≥ŸÖŸÉ ÿπÿ¥ÿßŸÜ ŸÜÿπÿ±ŸÅŸÉ ÿßŸÉÿ™ÿ±‚ù§Ô∏è
      </div>
      <input type="text" id="usernameInput" class="username-input" placeholder="ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ" maxlength="20">
      <button id="startGameBtn" class="start-btn">üéÆ ÿßÿ®ÿØÿ£ ÿßŸÑŸÑÿπÿ®ÿ©</button>
    </div>
  </div>

  <div id="gameContainer">
    <div id="map"></div>
    <div class="game-overlay" id="gameOverlay"></div>

    <div class="city-score-hud" id="cityScoreHud">
      <div class="city-avatar" id="cityAvatar">üèôÔ∏è</div>
      <div class="city-name" id="cityName">ÿßÿÆÿ™ÿ± ŸÖŸàŸÇÿπŸãÿß</div>

      <div class="score-bar">
        <div class="score-label">
          <span>üå´ ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ™ŸÑŸàÿ´</span>
          <span class="score-value" id="pollutionValue">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill pollution-fill" id="pollutionBar" style="width: 0%">0%</div>
        </div>
      </div>

      <div class="score-bar">
        <div class="score-label">
          <span>üíö ÿµÿ≠ÿ© ÿßŸÑŸÖÿØŸäŸÜÿ©</span>
          <span class="score-value" id="healthValue">100%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill health-fill excellent" id="healthBar" style="width: 100%">100%</div>
        </div>
      </div>

      <div class="player-stats">
        <div class="stat-row">
          <span>üèÜ ÿßŸÑŸÜŸÇÿßÿ∑</span>
          <span class="stat-value" id="totalPoints">0</span>
        </div>
        <div class="stat-row">
          <span>‚≠ê ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ</span>
          <span class="stat-value" id="playerLevel">1</span>
        </div>
        <div class="stat-row">
          <span>üå≥ ÿ£ÿ¥ÿ¨ÿßÿ± ŸÖÿ≤ÿ±Ÿàÿπÿ©</span>
          <span class="stat-value" id="treesPlanted">0</span>
        </div>
        <div class="stat-row">
          <span>üßπ ŸÜŸÅÿßŸäÿßÿ™ ŸÖŸÜÿ∏ŸÅÿ©</span>
          <span class="stat-value" id="wasteCleaned">0</span>
        </div>
      </div>
    </div>

    <div class="action-panel">
      <div style="margin-bottom: 20px; display: flex; gap: 8px; flex-wrap: wrap;">
        <input type="text" id="locationSearch" class="username-input" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÖÿØŸäŸÜÿ©..." style="padding: 10px; font-size: 14px; text-align: right; flex: 1; min-width: 120px;">
        <button id="searchBtn" class="start-btn" style="padding: 10px; width: auto; font-size: 14px; min-width: 70px;">ÿ®ÿ≠ÿ´</button>
        <button id="gpsBtn" class="start-btn" style="padding: 10px; width: auto; font-size: 14px; background: #10b981; min-width: 70px;">üìç GPS</button>
      </div>

      <div class="panel-title">‚ö° ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜ</div>

      <button class="action-btn plant" id="plantTreeBtn">
        <span><span class="action-icon">üå≥</span> ÿßÿ≤ÿ±ÿπ ÿ¥ÿ¨ÿ±ÿ©</span>
        <span class="action-cost">-5 ŸÜŸÇÿßÿ∑ | +10 ÿµÿ≠ÿ©</span>
      </button>

      <button class="action-btn clean" id="cleanWasteBtn">
        <span><span class="action-icon">üßπ</span> ŸÜÿ∏ŸÅ ÿßŸÑŸÜŸÅÿßŸäÿßÿ™</span>
        <span class="action-cost">-3 ŸÜŸÇÿßÿ∑ | +5 ÿµÿ≠ÿ©</span>
      </button>

      <button class="action-btn recycle" id="recycleBtn">
        <span><span class="action-icon">‚ôªÔ∏è</span> ÿ£ÿπÿØ ÿßŸÑÿ™ÿØŸàŸäÿ±</span>
        <span class="action-cost">-4 ŸÜŸÇÿßÿ∑ | +8 ÿµÿ≠ÿ©</span>
      </button>

      <button class="action-btn quiz" id="quizBtn">
        <span><span class="action-icon">üéì</span> ÿ≥ÿ§ÿßŸÑ ÿ™ŸàÿπŸäÿ©</span>
        <span class="action-cost">+10-20 ŸÜŸÇÿ∑ÿ©</span>
      </button>
    </div>
  </div>

  <div class="quiz-modal" id="quizModal">
    <div class="quiz-card">
      <div class="quiz-question" id="quizQuestion">ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸáŸÜÿß</div>
      <div class="quiz-options" id="quizOptions"></div>
      <div class="quiz-explanation" id="quizExplanation"></div>
      <button class="quiz-next" id="quizNextBtn">ÿßŸÑÿ™ÿßŸÑŸä</button>
    </div>
  </div>

  <div class="notification" id="notification"></div>
  <div class="achievement-popup" id="achievementPopup">
    <div class="achievement-icon">üèÜ</div>
    <div id="achievementText"></div>
  </div>

  <script>
    // =============== ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÉÿßŸÖŸÑÿ© (15 ÿ≥ÿ§ÿßŸÑŸãÿß) ===============
    const ALL_QUESTIONS = [
      // üåç ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ 1 ‚Äì ÿ≥ŸáŸÑ (10 ŸÜŸÇÿßÿ∑)
      {
        id: 1,
        question: "ŸÑŸÖÿß ÿ™ŸÉŸàŸÜ ŸÅŸä ÿßŸÑÿ¥ÿßÿ±ÿπ ŸàŸÖÿπÿßŸÉ ÿ≤ÿ®ÿßŸÑÿ© ÿµÿ∫Ÿäÿ±ÿ©ÿå ÿ™ÿπŸÖŸÑ ÿ•ŸäŸáÿü",
        options: [
          "ÿ£ÿ±ŸÖŸäŸáÿß ŸÅŸä ÿßŸÑÿ£ÿ±ÿ∂",
          "ÿ£ÿ≠ÿ™ŸÅÿ∏ ÿ®ŸäŸáÿß ŸÑÿ≠ÿØ ŸÖÿß ÿ£ŸÑÿßŸÇŸä ÿ≥ŸÑÿ©",
          "ÿ£ÿ±ŸÖŸäŸáÿß ŸÅŸä ÿ£Ÿä ŸÖŸÉÿßŸÜ ŸÅÿßÿ∂Ÿä",
          "ÿ£ÿ≠ÿ±ŸÇŸáÿß ŸÅŸä ÿßŸÑŸÖŸÉÿßŸÜ"
        ],
        correct_answer: "ÿ£ÿ≠ÿ™ŸÅÿ∏ ÿ®ŸäŸáÿß ŸÑÿ≠ÿØ ŸÖÿß ÿ£ŸÑÿßŸÇŸä ÿ≥ŸÑÿ©",
        explanation: "ÿßŸÑÿßÿ≠ÿ™ŸÅÿßÿ∏ ÿ®ÿßŸÑÿ≤ÿ®ÿßŸÑÿ© ÿ≠ÿ™Ÿâ ÿ™ÿ¨ÿØ ÿ≥ŸÑÿ© Ÿäÿ≠ÿßŸÅÿ∏ ÿπŸÑŸâ ŸÜÿ∏ÿßŸÅÿ© ÿßŸÑÿ¥ÿßÿ±ÿπ ŸàŸäŸÇŸÑŸÑ ÿßŸÑÿ™ŸÑŸàÿ´ ÿßŸÑÿ®ÿµÿ±Ÿä ŸàÿßŸÑÿ®Ÿäÿ¶Ÿä.",
        points: 10,
        category: "waste"
      },
      {
        id: 2,
        question: "ŸÑŸÖÿß ÿ£ÿ≥Ÿäÿ® ÿßŸÑÿ∫ÿ±ŸÅÿ©ÿå ÿ£ÿπŸÖŸÑ ÿ•ŸäŸá ÿπÿ¥ÿßŸÜ ÿ£ŸàŸÅŸëÿ± ÿßŸÑÿ∑ÿßŸÇÿ©ÿü",
        options: [
          "ÿ£ÿ≥Ÿäÿ® ÿßŸÑŸÜŸàÿ± ŸàÿßŸÑÿ™ŸÉŸäŸäŸÅ ÿ¥ÿ∫ÿßŸÑŸäŸÜ",
          "ÿ£ÿ∑ŸÅŸäŸáŸÖ ŸÇÿ®ŸÑ ŸÖÿß ÿ£ÿÆÿ±ÿ¨",
          "ŸÖÿ¥ ŸÅÿßÿ±ŸÇÿ©",
          "ÿ£ÿ™ÿ±ŸÉ ÿßŸÑÿ™ŸÉŸäŸäŸÅ ŸÅŸÇÿ∑ ÿ¥ÿ∫ÿßŸÑ"
        ],
        correct_answer: "ÿ£ÿ∑ŸÅŸäŸáŸÖ ŸÇÿ®ŸÑ ŸÖÿß ÿ£ÿÆÿ±ÿ¨",
        explanation: "ÿ•ÿ∑ŸÅÿßÿ° ÿßŸÑÿ£ÿ¨Ÿáÿ≤ÿ© ÿπŸÜÿØ ÿßŸÑÿÆÿ±Ÿàÿ¨ ŸäŸÇŸÑŸÑ ÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑŸÉŸáÿ±ÿ®ÿßÿ° ŸàŸäŸÇŸÑŸÑ ÿßŸÜÿ®ÿπÿßÿ´ÿßÿ™ ÿßŸÑŸÉÿ±ÿ®ŸàŸÜ.",
        points: 10,
        category: "energy"
      },
      {
        id: 3,
        question: "ŸÑŸÖÿß ÿ£ÿ±Ÿàÿ≠ ÿßŸÑÿ≥Ÿàÿ®ÿ±ŸÖÿßÿ±ŸÉÿ™ÿå ÿ£ÿÆÿ™ÿßÿ± ÿ•ŸäŸá ÿπÿ¥ÿßŸÜ ÿ£ÿ≥ÿßÿπÿØ ÿßŸÑÿ®Ÿäÿ¶ÿ©ÿü",
        options: [
          "ÿ£ÿ≥ÿ™ÿÆÿØŸÖ ŸÉŸäÿ≥ ÿ®ŸÑÿßÿ≥ÿ™ŸäŸÉ",
          "ÿ£ÿ¨Ÿäÿ® ÿ¥ŸÜÿ∑ ŸÇŸÖÿßÿ¥ ŸÇÿßÿ®ŸÑÿ© ŸÑÿ•ÿπÿßÿØÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ",
          "ÿ£ÿ¥ÿ™ÿ±Ÿä ŸÉŸäÿ≥ ÿ¨ÿØŸäÿØ ŸÉŸÑ ŸÖÿ±ÿ©",
          "ÿ£ÿ∑ŸÑÿ® ŸÉŸäÿ≥ Ÿàÿ±ŸÇŸä ŸÅŸÇÿ∑"
        ],
        correct_answer: "ÿ£ÿ¨Ÿäÿ® ÿ¥ŸÜÿ∑ ŸÇŸÖÿßÿ¥ ŸÇÿßÿ®ŸÑÿ© ŸÑÿ•ÿπÿßÿØÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ",
        explanation: "ÿßŸÑÿ£ŸÉŸäÿßÿ≥ ÿßŸÑŸÇŸÖÿßÿ¥Ÿäÿ© ÿ™Ÿèÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿ±ÿßÿ™ ÿπÿØŸäÿØÿ© ŸàŸÑÿß ÿ™ŸÑŸàÿ´ ÿßŸÑÿ®Ÿäÿ¶ÿ© ŸÖÿ´ŸÑ ÿßŸÑÿ®ŸÑÿßÿ≥ÿ™ŸäŸÉ ÿßŸÑÿ∞Ÿä Ÿäÿ≥ÿ™ÿ∫ÿ±ŸÇ ŸÖÿ¶ÿßÿ™ ÿßŸÑÿ≥ŸÜŸäŸÜ ŸÑŸäÿ™ÿ≠ŸÑŸÑ.",
        points: 10,
        category: "plastic"
      },
      {
        id: 4,
        question: "ÿ•ŸäŸá ŸÅÿßÿ¶ÿØÿ© ÿ≤ÿ±ÿßÿπÿ© ÿßŸÑÿ£ÿ¥ÿ¨ÿßÿ±ÿü",
        options: [
          "ŸÖŸÜÿ∏ÿ± ÿ≠ŸÑŸà ÿ®ÿ≥",
          "ÿ®ÿ™ŸÜŸÇŸä ÿßŸÑŸáŸàÿßÿ° Ÿàÿ™ŸÇŸÑŸÑ ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©",
          "ÿ®ÿ™ÿ≤ŸàÿØ ÿßŸÑÿ≠ÿ¥ÿ±ÿßÿ™",
          "ÿ®ÿ™ÿÆŸÑŸä ÿßŸÑÿ¥ÿßÿ±ÿπ ÿ∂ŸäŸÇ"
        ],
        correct_answer: "ÿ®ÿ™ŸÜŸÇŸä ÿßŸÑŸáŸàÿßÿ° Ÿàÿ™ŸÇŸÑŸÑ ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©",
        explanation: "ÿßŸÑÿ£ÿ¥ÿ¨ÿßÿ± ÿ™ŸÖÿ™ÿµ ÿ´ÿßŸÜŸä ÿ£ŸÉÿ≥ŸäÿØ ÿßŸÑŸÉÿ±ÿ®ŸàŸÜ Ÿàÿ™ÿ∑ŸÑŸÇ ÿßŸÑÿ£ŸÉÿ≥ÿ¨ŸäŸÜÿå ŸÉŸÖÿß ÿ™ŸàŸÅÿ± ÿßŸÑÿ∏ŸÑ Ÿàÿ™ŸÇŸÑŸÑ ÿØÿ±ÿ¨ÿ© ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ© ŸÅŸä ÿßŸÑŸÖÿØŸÜ.",
        points: 10,
        category: "trees"
      },
      {
        id: 5,
        question: "ŸÑŸÖÿß ÿ£ÿ¥ÿ±ÿ® ŸÖŸÜ ÿ≤ÿ¨ÿßÿ¨ÿ© ÿ®ŸÑÿßÿ≥ÿ™ŸäŸÉÿå ÿ£ÿπŸÖŸÑ ÿ®ŸäŸáÿß ÿ•ŸäŸá ÿ®ÿπÿØŸäŸÜÿü",
        options: [
          "ÿ£ÿ±ŸÖŸäŸáÿß",
          "ÿ£ÿ≥ÿ™ÿÆÿØŸÖŸáÿß ÿ™ÿßŸÜŸä ÿ£Ÿà ÿ£ÿπŸäÿØ ÿ™ÿØŸàŸäÿ±Ÿáÿß",
          "ÿ£ŸÉÿ≥ÿ±Ÿáÿß",
          "ÿ£ÿ≠ÿ±ŸÇŸáÿß ÿπÿ¥ÿßŸÜ ÿ™ÿ™ŸÑÿßÿ¥Ÿâ"
        ],
        correct_answer: "ÿ£ÿ≥ÿ™ÿÆÿØŸÖŸáÿß ÿ™ÿßŸÜŸä ÿ£Ÿà ÿ£ÿπŸäÿØ ÿ™ÿØŸàŸäÿ±Ÿáÿß",
        explanation: "ÿ•ÿπÿßÿØÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ£Ÿà ÿßŸÑÿ™ÿØŸàŸäÿ± ŸäŸÇŸÑŸÑ ÿßŸÑŸÜŸÅÿßŸäÿßÿ™ ÿßŸÑÿ®ŸÑÿßÿ≥ÿ™ŸäŸÉŸäÿ© ŸàŸäÿ≠ŸÖŸä ÿßŸÑŸÖÿ≠Ÿäÿ∑ÿßÿ™ ŸàÿßŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ®ÿ±Ÿäÿ©.",
        points: 10,
        category: "recycling"
      },

      // üå± ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ 2 ‚Äì ŸÖÿ™Ÿàÿ≥ÿ∑ (15 ŸÜŸÇÿ∑ÿ©)
      {
        id: 6,
        question: "ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÖŸàÿßÿµŸÑÿßÿ™ ÿßŸÑÿπÿßŸÖÿ© ÿ®ÿØŸÑ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑÿÆÿßÿµÿ© ÿ®Ÿäÿ≥ÿßÿπÿØ ŸÅŸä:",
        options: [
          "ÿ≤ŸäÿßÿØÿ© ÿßŸÑÿ≤ÿ≠ŸÖÿ©",
          "ÿ™ŸÇŸÑŸäŸÑ ÿ™ŸÑŸàÿ´ ÿßŸÑŸáŸàÿßÿ°",
          "ŸÖŸÑŸàÿ¥ ÿ™ÿ£ÿ´Ÿäÿ±",
          "ÿ≤ŸäÿßÿØÿ© ÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑŸàŸÇŸàÿØ"
        ],
        correct_answer: "ÿ™ŸÇŸÑŸäŸÑ ÿ™ŸÑŸàÿ´ ÿßŸÑŸáŸàÿßÿ°",
        explanation: "ÿßŸÑŸÖŸàÿßÿµŸÑÿßÿ™ ÿßŸÑÿπÿßŸÖÿ© ÿ™ŸÇŸÑŸÑ ÿπÿØÿØ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ÿπŸÑŸâ ÿßŸÑÿ∑ÿ±ŸäŸÇÿå ŸÖŸÖÿß ŸäŸÇŸÑŸÑ ÿßŸÑÿßŸÜÿ®ÿπÿßÿ´ÿßÿ™ ÿßŸÑÿ∂ÿßÿ±ÿ© ŸÖÿ´ŸÑ ÿ´ÿßŸÜŸä ÿ£ŸÉÿ≥ŸäÿØ ÿßŸÑŸÉÿ±ÿ®ŸàŸÜ.",
        points: 15,
        category: "transport"
      },
      {
        id: 7,
        question: "ÿ•ŸäŸá ÿ£ŸÉÿ™ÿ± ÿ™ÿµÿ±ŸÅ ÿ®ÿ≥Ÿäÿ∑ ŸäŸÇŸÑŸÑ ÿßŸÑÿ™ŸÑŸàÿ´ ŸÅŸä ÿßŸÑÿ®Ÿäÿ™ÿü",
        options: [
          "ŸÅÿµŸÑ ÿßŸÑŸÇŸÖÿßŸÖÿ© ŸÑÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿØŸàŸäÿ±",
          "ÿ±ŸÖŸä ŸÉŸÑ ÿ≠ÿßÿ¨ÿ© ŸÅŸä ŸÜŸÅÿ≥ ÿßŸÑŸÉŸäÿ≥",
          "ÿ≠ÿ±ŸÇ ÿßŸÑÿ≤ÿ®ÿßŸÑÿ©",
          "ÿ™ÿ±ŸÉ ÿßŸÑŸÜŸÅÿßŸäÿßÿ™ ŸÅŸä ÿßŸÑÿ®ŸÑŸÉŸàŸÜÿ©"
        ],
        correct_answer: "ŸÅÿµŸÑ ÿßŸÑŸÇŸÖÿßŸÖÿ© ŸÑÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿØŸàŸäÿ±",
        explanation: "ŸÅÿµŸÑ ÿßŸÑŸÜŸÅÿßŸäÿßÿ™ Ÿäÿ≥ŸÖÿ≠ ÿ®ÿ•ÿπÿßÿØÿ© ÿ™ÿØŸàŸäÿ± ÿßŸÑŸÖŸàÿßÿØ ŸÖÿ´ŸÑ ÿßŸÑŸàÿ±ŸÇ ŸàÿßŸÑÿ®ŸÑÿßÿ≥ÿ™ŸäŸÉ ŸàÿßŸÑŸÖÿπÿØŸÜÿå ŸàŸäŸÇŸÑŸÑ ÿßŸÑÿ≠ÿßÿ¨ÿ© ŸÑÿØŸÅŸÜ ÿßŸÑŸÜŸÅÿßŸäÿßÿ™.",
        points: 15,
        category: "waste"
      },
      {
        id: 8,
        question: "ŸÑŸäŸá ŸÖŸáŸÖ ŸÜŸàŸÅŸëÿ± ŸÅŸä ÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑŸÉŸáÿ±ÿ®ÿßÿ°ÿü",
        options: [
          "ÿπÿ¥ÿßŸÜ ŸÜŸÇŸÑŸÑ ÿßŸÑŸÅŸàÿßÿ™Ÿäÿ± ÿ®ÿ≥",
          "ÿπÿ¥ÿßŸÜ ŸÜŸÇŸÑŸÑ ÿßŸÜÿ®ÿπÿßÿ´ÿßÿ™ ÿßŸÑŸÉÿ±ÿ®ŸàŸÜ",
          "ŸÖÿ¥ ŸÖŸáŸÖ ÿßŸÑÿ™ŸàŸÅŸäÿ±",
          "ÿπÿ¥ÿßŸÜ ŸÜÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸàŸÑÿØ ŸÉŸáÿ±ÿ®ÿßÿ°"
        ],
        correct_answer: "ÿπÿ¥ÿßŸÜ ŸÜŸÇŸÑŸÑ ÿßŸÜÿ®ÿπÿßÿ´ÿßÿ™ ÿßŸÑŸÉÿ±ÿ®ŸàŸÜ",
        explanation: "ŸÖÿπÿ∏ŸÖ ÿßŸÑŸÉŸáÿ±ÿ®ÿßÿ° ÿ™ŸèŸÜÿ™ÿ¨ ŸÖŸÜ ÿßŸÑŸàŸÇŸàÿØ ÿßŸÑÿ£ÿ≠ŸÅŸàÿ±Ÿäÿå ŸàÿßŸÑÿ™ŸàŸÅŸäÿ± ŸäŸÇŸÑŸÑ ÿßŸÑÿßÿ≠ÿ™ÿ±ÿßŸÇ ŸàŸäÿ≠ŸÖŸä ÿßŸÑŸÖŸÜÿßÿÆ.",
        points: 15,
        category: "energy"
      },
      {
        id: 9,
        question: "ŸÑŸÖÿß ÿ£ÿ¥ÿ™ÿ±Ÿä ÿ£ÿ¨Ÿáÿ≤ÿ© ŸÉŸáÿ±ÿ®ÿßÿ¶Ÿäÿ© ÿ¨ÿØŸäÿØÿ©ÿå ÿ£ÿÆÿ™ÿßÿ±Ÿáÿß ÿπŸÑŸâ ÿ£ÿ≥ÿßÿ≥ ÿ•ŸäŸáÿü",
        options: [
          "ÿßŸÑÿ£ÿ±ÿÆÿµ",
          "ÿßŸÑÿ£ŸÉÿ´ÿ± ŸÉŸÅÿßÿ°ÿ© ŸÅŸä ÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑÿ∑ÿßŸÇÿ©",
          "ÿßŸÑÿ¥ŸÉŸÑ ŸÅŸÇÿ∑",
          "ÿßŸÑÿπŸÑÿßŸÖÿ© ÿßŸÑÿ™ÿ¨ÿßÿ±Ÿäÿ© ŸÅŸÇÿ∑"
        ],
        correct_answer: "ÿßŸÑÿ£ŸÉÿ´ÿ± ŸÉŸÅÿßÿ°ÿ© ŸÅŸä ÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑÿ∑ÿßŸÇÿ©",
        explanation: "ÿßŸÑÿ£ÿ¨Ÿáÿ≤ÿ© ÿßŸÑŸÖŸàŸÅÿ±ÿ© ŸÑŸÑÿ∑ÿßŸÇÿ© (ŸÖÿ´ŸÑ ÿßŸÑÿ™Ÿä ÿ™ÿ≠ŸÖŸÑ ÿ™ÿµŸÜŸäŸÅ A+++) ÿ™ÿ≥ÿ™ŸáŸÑŸÉ ÿ∑ÿßŸÇÿ© ÿ£ŸÇŸÑ Ÿàÿ™ŸàŸÅÿ± ŸÅŸàÿßÿ™Ÿäÿ±ŸÉ ÿπŸÑŸâ ÿßŸÑŸÖÿØŸâ ÿßŸÑÿ∑ŸàŸäŸÑ.",
        points: 15,
        category: "energy"
      },
      {
        id: 10,
        question: "ÿ•ŸäŸá ÿßŸÑÿ£ŸÅÿ∂ŸÑ ŸÑŸÑÿ®Ÿäÿ¶ÿ© ŸÅŸä ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÖŸäŸáÿü",
        options: [
          "ÿ£ÿ≥Ÿäÿ® ÿßŸÑÿ≠ŸÜŸÅŸäÿ© ŸÖŸÅÿ™Ÿàÿ≠ÿ©",
          "ÿ£ŸÇŸÅŸÑŸáÿß Ÿàÿ£ŸÜÿß ÿ®ÿ∫ÿ≥ŸÑ ÿ£ÿ≥ŸÜÿßŸÜŸä",
          "ÿ£ÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸäŸá ÿ≤ŸäÿßÿØÿ© ÿπÿ¥ÿßŸÜ ÿ£ŸÜÿ∂ŸÅ ÿ£ŸÉÿ™ÿ±",
          "ÿ£ÿ∫ÿ≥ŸÑ ÿßŸÑÿ≥Ÿäÿßÿ±ÿ© ŸÉŸÑ ŸäŸàŸÖ"
        ],
        correct_answer: "ÿ£ŸÇŸÅŸÑŸáÿß Ÿàÿ£ŸÜÿß ÿ®ÿ∫ÿ≥ŸÑ ÿ£ÿ≥ŸÜÿßŸÜŸä",
        explanation: "ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑÿ≠ŸÜŸÅŸäÿ© ÿ£ÿ´ŸÜÿßÿ° ÿ∫ÿ≥ŸÑ ÿßŸÑÿ£ÿ≥ŸÜÿßŸÜ ŸäŸàŸÅÿ± ŸÑÿ™ÿ±ÿßÿ™ ŸÉÿ´Ÿäÿ±ÿ© ŸÖŸÜ ÿßŸÑŸÖŸäÿßŸá ŸäŸàŸÖŸäŸãÿß ‚Äî ŸàŸáŸä ŸÖŸàÿ±ÿØ ÿ´ŸÖŸäŸÜ!",
        points: 15,
        category: "water"
      },

      // üåø ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ 3 ‚Äì ÿµÿπÿ® (20 ŸÜŸÇÿ∑ÿ©)
      {
        id: 11,
        question: "ŸÑŸäŸá ÿ≠ÿ±ŸÇ ÿßŸÑŸÇŸÖÿßŸÖÿ© ÿÆÿ∑ÿ± ÿπŸÑŸâ ÿßŸÑÿ®Ÿäÿ¶ÿ©ÿü",
        options: [
          "ŸÑÿ£ŸÜŸá ÿ®ŸäŸÇŸÑŸÑ ÿßŸÑÿ≤ÿ≠ŸÖÿ©",
          "ŸÑÿ£ŸÜŸá Ÿäÿ≥ÿ®ÿ® ÿßŸÜÿ®ÿπÿßÿ´ ÿ∫ÿßÿ≤ÿßÿ™ ÿ≥ÿßŸÖÿ© Ÿàÿ™ŸÑŸàÿ´ ÿßŸÑŸáŸàÿßÿ°",
          "ÿπÿßÿØŸä ŸÖŸÅŸäÿ¥ ÿ∂ÿ±ÿ±",
          "ŸÑÿ£ŸÜŸá ŸäŸÜÿ™ÿ¨ ÿ∑ÿßŸÇÿ© ŸÜÿ∏ŸäŸÅÿ©"
        ],
        correct_answer: "ŸÑÿ£ŸÜŸá Ÿäÿ≥ÿ®ÿ® ÿßŸÜÿ®ÿπÿßÿ´ ÿ∫ÿßÿ≤ÿßÿ™ ÿ≥ÿßŸÖÿ© Ÿàÿ™ŸÑŸàÿ´ ÿßŸÑŸáŸàÿßÿ°",
        explanation: "ÿ≠ÿ±ŸÇ ÿßŸÑŸÜŸÅÿßŸäÿßÿ™ Ÿäÿ∑ŸÑŸÇ ÿ∫ÿßÿ≤ÿßÿ™ ÿ≥ÿßŸÖÿ© ŸÖÿ´ŸÑ ÿßŸÑÿØŸäŸàŸÉÿ≥ŸäŸÜ ŸàÿßŸÑÿ≤ÿ¶ÿ®ŸÇÿå ÿßŸÑÿ™Ÿä ÿ™ÿ∂ÿ± ÿ®ÿßŸÑÿµÿ≠ÿ© ŸàÿßŸÑÿ®Ÿäÿ¶ÿ©.",
        points: 20,
        category: "pollution"
      },
      {
        id: 12,
        question: "ÿ•ŸäŸá ŸÖÿπŸÜŸâ ‚ÄúÿßŸÑÿπŸäÿ¥ ÿßŸÑŸÖÿ≥ÿ™ÿØÿßŸÖ‚Äùÿü",
        options: [
          "ÿ•ŸÜŸÜÿß ŸÜÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÖŸàÿßÿ±ÿØ ÿ®ÿ≠ŸÉŸÖÿ© ŸàŸÜŸÅŸÉÿ± ŸÅŸä ÿßŸÑÿ£ÿ¨ŸäÿßŸÑ ÿßŸÑÿ¨ÿßŸäÿ©",
          "ŸÜÿ≥ÿ™ŸáŸÑŸÉ ŸÉŸÑ ÿ≠ÿßÿ¨ÿ© ÿ®ÿ≥ÿ±ÿπÿ©",
          "ŸÜÿ±ŸÖŸä ÿßŸÑŸÑŸä ŸÖÿ¥ ŸÖÿ≠ÿ™ÿßÿ¨ŸäŸÜŸá",
          "ŸÜÿ¥ÿ±ÿ® ŸÖŸäŸá ŸÖÿπÿØŸÜŸäÿ© ÿ®ÿ≥"
        ],
        correct_answer: "ÿ•ŸÜŸÜÿß ŸÜÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÖŸàÿßÿ±ÿØ ÿ®ÿ≠ŸÉŸÖÿ© ŸàŸÜŸÅŸÉÿ± ŸÅŸä ÿßŸÑÿ£ÿ¨ŸäÿßŸÑ ÿßŸÑÿ¨ÿßŸäÿ©",
        explanation: "ÿßŸÑÿπŸäÿ¥ ÿßŸÑŸÖÿ≥ÿ™ÿØÿßŸÖ ŸäÿπŸÜŸä ÿ™ŸÑÿ®Ÿäÿ© ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ŸÜÿß ÿØŸàŸÜ ÿßŸÑŸÖÿ≥ÿßÿ≥ ÿ®ŸÇÿØÿ±ÿ© ÿßŸÑÿ£ÿ¨ŸäÿßŸÑ ÿßŸÑŸÇÿßÿØŸÖÿ© ÿπŸÑŸâ ÿ™ŸÑÿ®Ÿäÿ© ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ŸáŸÖ.",
        points: 20,
        category: "sustainability"
      },
      {
        id: 13,
        question: "ŸÑŸÖÿß ÿπÿØÿØ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ŸÅŸä ÿßŸÑŸÖÿØŸäŸÜÿ© Ÿäÿ≤ŸäÿØ ÿ¨ÿØŸãÿßÿå ÿ•ŸäŸá ÿßŸÑÿ™ÿ£ÿ´Ÿäÿ± ÿßŸÑŸÖÿ™ŸàŸÇÿπÿü",
        options: [
          "ÿ™ŸÇŸÑŸäŸÑ ÿßŸÑÿ™ŸÑŸàÿ´",
          "ŸÖŸÅŸäÿ¥ ÿ™ÿ£ÿ´Ÿäÿ± Ÿàÿßÿ∂ÿ≠",
          "ÿ≤ŸäÿßÿØÿ© ÿßŸÜÿ®ÿπÿßÿ´ÿßÿ™ ÿ´ÿßŸÜŸä ÿ£ŸÉÿ≥ŸäÿØ ÿßŸÑŸÉÿ±ÿ®ŸàŸÜ Ÿàÿ™ŸÑŸàÿ´ ÿßŸÑŸáŸàÿßÿ°",
          "ÿ™ÿ≠ÿ≥ŸäŸÜ ÿ¨ŸàÿØÿ© ÿßŸÑŸáŸàÿßÿ°"
        ],
        correct_answer: "ÿ≤ŸäÿßÿØÿ© ÿßŸÜÿ®ÿπÿßÿ´ÿßÿ™ ÿ´ÿßŸÜŸä ÿ£ŸÉÿ≥ŸäÿØ ÿßŸÑŸÉÿ±ÿ®ŸàŸÜ Ÿàÿ™ŸÑŸàÿ´ ÿßŸÑŸáŸàÿßÿ°",
        explanation: "ŸÉŸÑ ÿ≥Ÿäÿßÿ±ÿ© ÿ™ÿ∑ŸÑŸÇ ÿ∫ÿßÿ≤ÿßÿ™ ÿØŸÅŸäÿ¶ÿ© ‚Äî ŸàŸÉŸÑŸÖÿß ÿ≤ÿßÿØ ÿπÿØÿØŸáÿßÿå ÿ≤ÿßÿØ ÿßŸÑÿ™ŸÑŸàÿ´ Ÿàÿßÿ±ÿ™ŸÅÿπÿ™ ÿØÿ±ÿ¨ÿßÿ™ ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ© ŸÅŸä ÿßŸÑŸÖÿØŸÜ.",
        points: 20,
        category: "transport"
      },
      {
        id: 14,
        question: "ŸÑŸäŸá ŸÑÿßÿ≤ŸÖ ŸÜÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ∑ÿßŸÇÿ© ÿßŸÑŸÖÿ™ÿ¨ÿØÿØÿ© ÿ≤Ÿä ÿßŸÑÿ¥ŸÖÿ≥ ŸàÿßŸÑÿ±Ÿäÿßÿ≠ÿü",
        options: [
          "ÿπÿ¥ÿßŸÜ ÿ¥ŸÉŸÑŸáÿß ÿ≠ŸÑŸà",
          "ŸÑÿ£ŸÜŸáÿß ŸÜÿ∏ŸäŸÅÿ© ŸàŸÖÿ¥ ÿ®ÿ™ÿ≥ÿ®ÿ® ÿ™ŸÑŸàÿ´",
          "ÿπÿ¥ÿßŸÜ ÿ£ÿ∫ŸÑŸâ ŸÅŸä ÿßŸÑÿ™ŸÉŸÑŸÅÿ©",
          "ÿπÿ¥ÿßŸÜ ŸÜÿ™ÿ®ÿπ ÿßŸÑŸÖŸàÿ∂ÿ©"
        ],
        correct_answer: "ŸÑÿ£ŸÜŸáÿß ŸÜÿ∏ŸäŸÅÿ© ŸàŸÖÿ¥ ÿ®ÿ™ÿ≥ÿ®ÿ® ÿ™ŸÑŸàÿ´",
        explanation: "ÿßŸÑÿ∑ÿßŸÇÿ© ÿßŸÑŸÖÿ™ÿ¨ÿØÿØÿ© ŸÑÿß ÿ™ÿ∑ŸÑŸÇ ÿßŸÜÿ®ÿπÿßÿ´ÿßÿ™ ŸÉÿ±ÿ®ŸàŸÜŸäÿ©ÿå ŸàŸÑÿß ÿ™ŸÜŸÅÿØ ‚Äî ÿπŸÑŸâ ÿπŸÉÿ≥ ÿßŸÑŸÅÿ≠ŸÖ ŸàÿßŸÑŸÜŸÅÿ∑.",
        points: 20,
        category: "renewables"
      },
      {
        id: 15,
        question: "ÿ•ÿ≤ÿßŸä ŸÖŸÖŸÉŸÜ ŸÜÿ≥ÿßÿπÿØ ŸÖÿØŸäŸÜÿ™ŸÜÿß ÿ™ŸÉŸàŸÜ ÿ£ŸÉÿ´ÿ± ÿßÿ≥ÿ™ÿØÿßŸÖÿ©ÿü",
        options: [
          "ÿ®ÿ≤ÿ±ÿßÿπÿ© ÿßŸÑÿ£ÿ¥ÿ¨ÿßÿ±ÿå ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿØŸàŸäÿ±ÿå Ÿàÿ™ÿ±ÿ¥ŸäÿØ ÿßŸÑÿßÿ≥ÿ™ŸáŸÑÿßŸÉ",
          "ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ≥Ÿäÿßÿ±ÿßÿ™ ÿ£ŸÉÿ™ÿ±",
          "ÿ®ÿ™ÿ¨ÿßŸáŸÑ ÿßŸÑŸÇŸàÿßŸÜŸäŸÜ ÿßŸÑÿ®Ÿäÿ¶Ÿäÿ©",
          "ÿ®ÿ®ŸÜÿßÿ° ŸÖÿµÿßŸÜÿπ ÿ¨ÿØŸäÿØÿ© ŸÅŸä Ÿàÿ≥ÿ∑ ÿßŸÑŸÖÿØŸäŸÜÿ©"
        ],
        correct_answer: "ÿ®ÿ≤ÿ±ÿßÿπÿ© ÿßŸÑÿ£ÿ¥ÿ¨ÿßÿ±ÿå ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿØŸàŸäÿ±ÿå Ÿàÿ™ÿ±ÿ¥ŸäÿØ ÿßŸÑÿßÿ≥ÿ™ŸáŸÑÿßŸÉ",
        explanation: "Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÖÿßÿ±ÿ≥ÿßÿ™ ÿßŸÑÿ®ÿ≥Ÿäÿ∑ÿ© ÿ™Ÿèÿ≠ÿØÿ´ ŸÅÿ±ŸÇŸãÿß ŸÉÿ®Ÿäÿ±Ÿãÿß ŸÅŸä ÿ¨ŸàÿØÿ© ÿßŸÑŸáŸàÿßÿ°ÿå ÿßŸÑŸÜÿ∏ÿßŸÅÿ©ÿå Ÿàÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑŸÖŸàÿßÿ±ÿØ.",
        points: 20,
        category: "sustainability"
      }
    ];

    // =============== ÿÆÿ±Ÿäÿ∑ÿ© ÿßŸÑÿ™ŸÑŸàÿ´ ===============
    const POLLUTION_MAP = {
      'ÿßŸÑŸÇÿßŸáÿ±ÿ©': { pollution: 85, health: 15 },
      'ÿ¨ÿØÿ©': { pollution: 70, health: 30 },
      'ÿØÿ®Ÿä': { pollution: 60, health: 40 },
      'ÿßŸÑÿ±Ÿäÿßÿ∂': { pollution: 75, health: 25 },
      'ÿ™ŸàŸÜÿ≥': { pollution: 65, health: 35 },
      'ÿ®Ÿäÿ±Ÿàÿ™': { pollution: 80, health: 20 },
      'ÿßŸÑÿØÿßÿ± ÿßŸÑÿ®Ÿäÿ∂ÿßÿ°': { pollution: 72, health: 28 },
      'ÿ®ÿ∫ÿØÿßÿØ': { pollution: 78, health: 22 },
      'ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±': { pollution: 68, health: 32 },
      highPollutionZones: [
        [29.5, 31.5, 30.5, 32.5],
        [24.0, 26.0, 38.0, 40.0],
        [33.0, 34.0, 35.0, 37.0],
      ]
    };

    function getPollutionLevel(lat, lng, cityName = '') {
      if (cityName && POLLUTION_MAP[cityName]) {
        return POLLUTION_MAP[cityName];
      }
      for (const zone of POLLUTION_MAP.highPollutionZones) {
        const [minLat, maxLat, minLng, maxLng] = zone;
        if (lat >= minLat && lat <= maxLat && lng >= minLng && lng <= maxLng) {
          return { pollution: 80 + Math.floor(Math.random() * 10), health: 20 - Math.floor(Math.random() * 5) };
        }
      }
      return { pollution: 50 + Math.floor(Math.random() * 20), health: 50 - Math.floor(Math.random() * 10) };
    }

    // =============== ÿ≠ÿßŸÑÿ© ÿßŸÑŸÑÿπÿ®ÿ© ===============
    let gameState = {
      username: '',
      globalPoints: 0,
      level: 1,
      locations: {},
      answeredQuestionIds: new Set()
    };

    let activeLocationKey = null;
    let map;
    let markers = [];

    // =============== ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© ===============
    function initMap() {
      map = new maplibregl.Map({
        container: 'map',
        style: {
          version: 8,
          sources: {
            'satellite': {
              type: 'raster',
              tiles: ['https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'],
              tileSize: 256,
              attribution: '¬© Esri'
            }
          },
          layers: [{
            id: 'satellite',
            type: 'raster',
            source: 'satellite',
            paint: { 'raster-opacity': 1 }
          }]
        },
        center: [31.2357, 30.0444],
        zoom: 3
      });

      map.addControl(new maplibregl.NavigationControl(), 'bottom-left');

      map.on('click', (e) => {
        const lat = e.lngLat.lat;
        const lng = e.lngLat.lng;
        const key = `${lat.toFixed(4)},${lng.toFixed(4)}`;
        if (!gameState.locations[key]) {
          const pollutionData = getPollutionLevel(lat, lng);
          gameState.locations[key] = {
            trees: 0,
            cleaned: 0,
            pollution: pollutionData.pollution,
            health: pollutionData.health,
            name: 'ŸÜŸÇÿ∑ÿ© ŸÖÿÆÿ™ÿßÿ±ÿ©'
          };
        }
        activeLocationKey = key;
        updateUI();
        drawSavedMarkers();
        if (gameState.locations[key].pollution > 70) {
          showNotification('‚ö†Ô∏è Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ŸÖŸÑŸàÿ´ÿ©! ÿ≥ÿßÿπÿØ ŸÅŸä ÿ™ŸÜÿ∏ŸäŸÅŸáÿß!');
        }
      });
    }

    // =============== ÿØŸàÿßŸÑ ÿßŸÑŸÖŸàŸÇÿπ ===============
    async function searchLocation(query) {
      if (!query.trim()) return;
      try {
        const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=1`;
        const response = await fetch(url);
        const data = await response.json();
        if (data && data[0]) {
          const lat = parseFloat(data[0].lat);
          const lng = parseFloat(data[0].lon);
          const key = `${lat.toFixed(4)},${lng.toFixed(4)}`;
          const displayName = data[0].display_name.split(',')[0];
          if (!gameState.locations[key]) {
            const pollutionData = getPollutionLevel(lat, lng, displayName);
            gameState.locations[key] = {
              trees: 0,
              cleaned: 0,
              pollution: pollutionData.pollution,
              health: pollutionData.health,
              name: displayName
            };
          }
          activeLocationKey = key;
          map.flyTo({ center: [lng, lat], zoom: 16, duration: 1500 });
          updateUI();
          drawSavedMarkers();
          if (gameState.locations[key].pollution > 70) {
            showNotification(`‚ö†Ô∏è ${displayName} ÿ™ÿπÿßŸÜŸä ŸÖŸÜ ÿ™ŸÑŸàÿ´ ÿπÿßŸÑŸä!`);
          }
        } else {
          showNotification('‚ùå ŸÑŸÖ ŸÜÿ¨ÿØ Ÿáÿ∞ÿß ÿßŸÑŸÖŸÉÿßŸÜ!');
        }
      } catch (err) {
        console.error(err);
        showNotification('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ!');
      }
    }

    function useCurrentLocation() {
      if (!navigator.geolocation) {
        showNotification('‚ùå GPS ÿ∫Ÿäÿ± ŸÖÿØÿπŸàŸÖ!');
        return;
      }
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const lat = position.coords.latitude;
          const lng = position.coords.longitude;
          const key = `${lat.toFixed(4)},${lng.toFixed(4)}`;
          if (!gameState.locations[key]) {
            const pollutionData = getPollutionLevel(lat, lng);
            gameState.locations[key] = {
              trees: 0,
              cleaned: 0,
              pollution: pollutionData.pollution,
              health: pollutionData.health,
              name: 'ŸÖŸàŸÇÿπŸä'
            };
          }
          activeLocationKey = key;
          map.flyTo({ center: [lng, lat], zoom: 16, duration: 1500 });
          updateUI();
          drawSavedMarkers();
          if (gameState.locations[key].pollution > 70) {
            showNotification('‚ö†Ô∏è ŸÖŸÜÿ∑ŸÇÿ™ŸÉ ŸÖŸÑŸàÿ´ÿ©! ÿ≥ÿßÿπÿØ ŸÅŸä ÿ™ŸÜÿ∏ŸäŸÅŸáÿß!');
          }
        },
        () => {
          showNotification('‚ùå ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàŸÇÿπŸÉ!');
        }
      );
    }

    // =============== ÿ±ÿ≥ŸÖ ÿßŸÑÿπŸÜÿßÿµÿ± ===============
    function drawSavedMarkers() {
      if (markers) markers.forEach(m => m.remove());
      markers = [];
      if (!activeLocationKey) return;
      const loc = gameState.locations[activeLocationKey];
      const [lat, lng] = activeLocationKey.split(',').map(Number);
      for (let i = 0; i < loc.trees; i++) {
        const marker = new maplibregl.Marker({ color: '#10b981' })
          .setLngLat([lng + (Math.random() - 0.5) * 0.0005, lat + (Math.random() - 0.5) * 0.0005])
          .addTo(map);
        markers.push(marker);
      }
      for (let i = 0; i < loc.cleaned; i++) {
        const marker = new maplibregl.Marker({ color: '#3b82f6' })
          .setLngLat([lng + (Math.random() - 0.5) * 0.0005, lat + (Math.random() - 0.5) * 0.0005])
          .addTo(map);
        markers.push(marker);
      }
    }

    // =============== ÿ®ÿßŸÇŸä ÿßŸÑÿØŸàÿßŸÑ ===============
    function saveGame() {
      localStorage.setItem('ecoGameRealSave', JSON.stringify({
        ...gameState,
        answeredQuestionIds: Array.from(gameState.answeredQuestionIds)
      }));
    }

    function loadGame() {
      const saved = localStorage.getItem('ecoGameRealSave');
      if (saved) {
        const data = JSON.parse(saved);
        gameState = {
          ...data,
          answeredQuestionIds: new Set(data.answeredQuestionIds || [])
        };
        document.getElementById('usernameInput').value = gameState.username || '';
      }
    }

    function updateUI() {
      if (!activeLocationKey) {
        document.getElementById('cityName').textContent = 'ÿßÿÆÿ™ÿ± ŸÖŸàŸÇÿπŸãÿß';
        return;
      }
      const loc = gameState.locations[activeLocationKey];
      document.getElementById('cityName').textContent = loc.name;
      document.getElementById('pollutionValue').textContent = loc.pollution + '%';
      document.getElementById('healthValue').textContent = loc.health + '%';
      document.getElementById('totalPoints').textContent = gameState.globalPoints;
      document.getElementById('playerLevel').textContent = gameState.level;
      document.getElementById('treesPlanted').textContent = loc.trees;
      document.getElementById('wasteCleaned').textContent = loc.cleaned;

      const pollutionBar = document.getElementById('pollutionBar');
      pollutionBar.style.width = loc.pollution + '%';
      pollutionBar.textContent = loc.pollution + '%';
      pollutionBar.className = 'progress-fill pollution-fill' + 
        (loc.pollution < 30 ? ' minimal' : loc.pollution < 60 ? ' low' : '');

      const healthBar = document.getElementById('healthBar');
      healthBar.style.width = loc.health + '%';
      healthBar.textContent = loc.health + '%';
      healthBar.className = 'progress-fill health-fill' + 
        (loc.health > 70 ? ' excellent' : loc.health > 40 ? ' good' : '');

      const cityAvatar = document.getElementById('cityAvatar');
      const overlay = document.getElementById('gameOverlay');
      const hud = document.getElementById('cityScoreHud');

      if (loc.health >= 70) {
        cityAvatar.textContent = 'üå≥üèôÔ∏è‚ú®';
        cityAvatar.classList.remove('sick');
        overlay.classList.add('healthy');
        hud.classList.add('healthy');
        map.setPaintProperty('satellite', 'raster-saturation', 0.3);
      } else if (loc.health >= 40) {
        cityAvatar.textContent = 'üèôÔ∏è';
        cityAvatar.classList.remove('sick');
        overlay.classList.remove('healthy');
        hud.classList.remove('healthy');
        map.setPaintProperty('satellite', 'raster-saturation', 0);
      } else {
        cityAvatar.textContent = 'üèöÔ∏èüí®';
        cityAvatar.classList.add('sick');
        overlay.classList.remove('healthy');
        hud.classList.remove('healthy');
        map.setPaintProperty('satellite', 'raster-saturation', -0.5);
      }

      // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ
      const newLevel = Math.floor(gameState.globalPoints / 100) + 1;
      if (gameState.level !== newLevel) {
        gameState.level = newLevel;
        showAchievement(`üéâ ŸÖÿ≥ÿ™ŸàŸâ ÿ¨ÿØŸäÿØ! ÿ£ŸÜÿ™ ÿßŸÑÿ¢ŸÜ ŸÖÿ≥ÿ™ŸàŸâ ${gameState.level}`);
      }

      saveGame();
    }

    function showNotification(message) {
      const el = document.getElementById('notification');
      el.textContent = message;
      el.classList.add('show');
      setTimeout(() => el.classList.remove('show'), 2500);
    }

    function showAchievement(message) {
      const el = document.getElementById('achievementPopup');
      document.getElementById('achievementText').textContent = message;
      el.classList.add('show');
      setTimeout(() => el.classList.remove('show'), 3000);
    }

    function getRandomUnansweredQuestion() {
      const unanswered = ALL_QUESTIONS.filter(q => !gameState.answeredQuestionIds.has(q.id));
      if (unanswered.length === 0) {
        gameState.answeredQuestionIds.clear();
        return ALL_QUESTIONS[Math.floor(Math.random() * ALL_QUESTIONS.length)];
      }
      return unanswered[Math.floor(Math.random() * unanswered.length)];
    }

    // =============== ÿ£ÿ≠ÿØÿßÿ´ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ===============
    document.getElementById('plantTreeBtn').addEventListener('click', () => {
      if (!activeLocationKey) {
        showNotification('‚ùå ÿßÿÆÿ™ÿ± ŸÖŸàŸÇÿπŸãÿß ÿ£ŸàŸÑŸãÿß!');
        return;
      }
      if (gameState.globalPoints < 5) {
        showNotification('‚ùå ÿ™ÿ≠ÿ™ÿßÿ¨ 5 ŸÜŸÇÿßÿ∑!');
        return;
      }
      const loc = gameState.locations[activeLocationKey];
      gameState.globalPoints -= 5;
      loc.trees++;
      loc.health = Math.min(100, loc.health + 10);
      loc.pollution = Math.max(0, loc.pollution - 8);
      showNotification('üå≥ ÿ≤ÿ±ÿπÿ™ ÿ¥ÿ¨ÿ±ÿ©!');
      updateUI();
      drawSavedMarkers();
    });

    document.getElementById('cleanWasteBtn').addEventListener('click', () => {
      if (!activeLocationKey) {
        showNotification('‚ùå ÿßÿÆÿ™ÿ± ŸÖŸàŸÇÿπŸãÿß ÿ£ŸàŸÑŸãÿß!');
        return;
      }
      if (gameState.globalPoints < 3) {
        showNotification('‚ùå ÿ™ÿ≠ÿ™ÿßÿ¨ 3 ŸÜŸÇÿßÿ∑!');
        return;
      }
      const loc = gameState.locations[activeLocationKey];
      gameState.globalPoints -= 3;
      loc.cleaned++;
      loc.health = Math.min(100, loc.health + 5);
      loc.pollution = Math.max(0, loc.pollution - 5);
      showNotification('üßπ ŸÜÿ∏ŸÅÿ™ ŸÜŸÅÿßŸäÿßÿ™!');
      updateUI();
      drawSavedMarkers();
    });

    document.getElementById('recycleBtn').addEventListener('click', () => {
      if (!activeLocationKey) {
        showNotification('‚ùå ÿßÿÆÿ™ÿ± ŸÖŸàŸÇÿπŸãÿß ÿ£ŸàŸÑŸãÿß!');
        return;
      }
      if (gameState.globalPoints < 4) {
        showNotification('‚ùå ÿ™ÿ≠ÿ™ÿßÿ¨ 4 ŸÜŸÇÿßÿ∑!');
        return;
      }
      const loc = gameState.locations[activeLocationKey];
      gameState.globalPoints -= 4;
      loc.health = Math.min(100, loc.health + 8);
      loc.pollution = Math.max(0, loc.pollution - 6);
      showNotification('‚ôªÔ∏è ÿ£ÿπÿØÿ™ ÿ™ÿØŸàŸäÿ±!');
      updateUI();
    });

    document.getElementById('quizBtn').addEventListener('click', () => {
      if (!activeLocationKey) {
        showNotification('‚ùå ÿßÿÆÿ™ÿ± ŸÖŸàŸÇÿπŸãÿß ÿ£ŸàŸÑŸãÿß!');
        return;
      }
      const quiz = getRandomUnansweredQuestion();
      gameState.answeredQuestionIds.add(quiz.id);

      const modal = document.getElementById('quizModal');
      const questionEl = document.getElementById('quizQuestion');
      const optionsEl = document.getElementById('quizOptions');
      const explanationEl = document.getElementById('quizExplanation');
      const nextBtn = document.getElementById('quizNextBtn');

      questionEl.textContent = quiz.question;
      optionsEl.innerHTML = '';
      quiz.options.forEach(option => {
        const div = document.createElement('div');
        div.className = 'quiz-option';
        div.textContent = option;
        div.addEventListener('click', () => {
          document.querySelectorAll('.quiz-option').forEach(opt => opt.style.pointerEvents = 'none');
          document.querySelectorAll('.quiz-option').forEach(opt => {
            if (opt.textContent === quiz.correct_answer) opt.classList.add('correct');
          });
          if (option === quiz.correct_answer) {
            div.classList.add('correct');
            gameState.globalPoints += quiz.points;
            showNotification(`‚úÖ ÿ•ÿ¨ÿßÿ®ÿ© ÿµÿ≠Ÿäÿ≠ÿ©! +${quiz.points} ŸÜŸÇÿ∑ÿ©`);
          } else {
            div.classList.add('wrong');
            showNotification('‚ùå ÿ•ÿ¨ÿßÿ®ÿ© ÿÆÿßÿ∑ÿ¶ÿ©!');
          }
          explanationEl.textContent = quiz.explanation;
          explanationEl.classList.add('show');
          nextBtn.classList.add('show');
          updateUI();
        });
        optionsEl.appendChild(div);
      });
      explanationEl.classList.remove('show');
      nextBtn.classList.remove('show');
      modal.classList.add('active');
    });

    document.getElementById('quizNextBtn').addEventListener('click', () => {
      document.getElementById('quizModal').classList.remove('active');
    });

    // =============== ÿ®ÿØÿ° ÿßŸÑŸÑÿπÿ®ÿ© ===============
    loadGame();
    document.getElementById('startGameBtn').addEventListener('click', () => {
      const username = document.getElementById('usernameInput').value.trim();
      if (!username) { alert('ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿßÿ≥ŸÖŸÉ'); return; }
      gameState.username = username;
      document.getElementById('welcomeScreen').style.display = 'none';
      initMap();
    });

    document.getElementById('searchBtn').addEventListener('click', () => {
      searchLocation(document.getElementById('locationSearch').value);
    });

    document.getElementById('gpsBtn').addEventListener('click', useCurrentLocation);

    document.getElementById('locationSearch').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        searchLocation(e.target.value);
      }
    });
  </script>
</body>
</html>